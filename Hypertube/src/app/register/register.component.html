<h1>Register</h1>
<p>
	<kbd>Register</kbd> to download content!</p>
<div class="row">
	<div class="flex">
		<!-- <form #f="ngForm" (ngSubmit)="onAdd(f)" class="register-form">
			<input name="username" ngModel required>
			<input name="last" ngModel>
			<button>Submit</button>
		</form> -->
		<form #f="ngForm" (ngSubmit)="onRegister(f)" class="register-form">
			<div class="form-group">
				<h3>Username:</h3>
				<input type="text" class="form-control" ngModel name="username" required minlength="5" #username="ngModel">
				<span class="help-block" *ngIf="!username.valid && username.touched">Please enter a valid email minimum characters is 5</span>
			</div>
			<div class="form-group">
				<h3>Email:</h3>
				<input type="Email" id="email" class="form-control" ngModel name="email" required email #email="ngModel">
				<span class="help-block" *ngIf="!email.valid && email.touched">Please enter a valid email for example: user@example.com</span>
				<!-- pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" -->
			</div>
			<div class="form-group">
				<h3>Password:</h3>
				<input type="password" class="form-control" ngModel name="password" required minlength="8" validateEqual="cPassword" reverse="true"
				 #confirmpassword="ngModel">
				<span class="help-block" *ngIf="!confirmpassword.valid && confirmpassword.touched">Password min length must be greater than 8</span>
			</div>
			<div class="form-group">
				<h3>Confirm password:</h3>
				<input type="password" class="form-control" ngModel name="cPassword" required validateEqual="password" #password="ngModel">
				<span class="help-block" *ngIf="!password.valid && password.touched">Please enter the same password</span>
			</div>
			<div class="form-group">
				<h3>Photo:</h3>
				<input type="text" class="form-control" ngModel name="photo" #photo="ngModel">
				<!-- <span class="help-block" *ngIf="!password.valid && password.touched">Please enter the same password</span> -->
			</div>
			<p>OR</p>
			<div class="dropzone" dropZone (hovered)="toggleHover($event)" (dropped)="startUpload($event)" [class.hovering]="isHovering">
				<h3>AngularFire Drop Zone</h3>
				<div class="file">
					<label class="file-label">
						<input class="file-input" type="file" (change)="startUpload($event.target.files)">
						<span class="file-cta">
							<span class="file-icon">
								<i class="fa fa-upload"></i>
							</span>
							<span class="file-label">
								or choose a fileâ€¦
							</span>
						</span>
					</label>
				</div>
			</div>
			<div *ngIf="percentage | async as pct">
				<progress class="progress is-info" [value]="pct" max="100">
				</progress>
				{{ pct | number }}%
			</div>
			<div *ngIf="snapshot | async as snap">
				{{ snap.bytesTransferred | fileSize }} of {{ snap.totalBytes | fileSize }}
				<div *ngIf="downloadURL | async as url">
					<h3>Results!</h3>
					<img [src]="url" class="mx-auto img-fluid img-circle d-block">
					<br>
					<a [href]="url" target="_blank" rel="noopener">Download Me!</a>
				</div>
				<button (click)="task.pause()" class="btn btn-outline-warning api-button" [disabled]="!isActive(snap)">Pause</button>
				<button (click)="task.cancel()" class="btn btn-danger" [disabled]="!isActive(snap)">Cancel</button>
				<button (click)="task.resume()" class="btn btn-success" [disabled]="!(snap?.state === 'paused')">Resume</button>
			</div>
			<!-- <app-file-upload></app-file-upload> -->
			<div class="register-buttons form-group">
				<button class="btn btn-outline-success api-button" type="Sumbit" [disabled]="!f.valid">Register</button>
				<button class="btn btn-outline-default api-button">Cancel</button>
			</div>
		</form>
	</div>
</div>